{% extends "base.html" %}
{% load static %}

{% block content%}
<div class="container">
<hr>
<h2>Product Admin (Administrators Only!)</h2>
<hr>
<div class="row row-cols-4 row-cols-md-4 g-4">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Product Name</th>
        <th scope="col">Product Description</th>
        <th scope="col">Price</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      {% for product in products %}   
        <tr>
          
          <td>{{ product.name }}</td>
          <td>{{ product.description }}</td>
          <td>{{ product.price }}</td>
          <td><a href="{% url 'edit_product' product.id %}">Edit</a></td>
          <td><a href="{% url 'delete_product' product.id %}">Delete</a></td>
        </tr>
      {% endfor %}  
    </tbody>
  </table>
  {% for product in products %}       
  <div class="col">
    <a href="{% url 'product_detail' product.id %}">
    <div class="card">
      <img class="card-img-top" alt="..." src="{% if product.image %}{{ product.image.url }}{% else %}{% static "img/no_image.png" %}{% endif %}"> 
      <div class="card-body">
        <h5 class="card-title">{{ product.name }}</h5>
        <p class="card-text">Rating:{{ product.customer_rating }}<br>
          Â£{{ product.price }}</p>
          <a href="{% url 'product_detail' product.id %}">More Info - Prpdcuts Details</a>
        </a>
      </div>
    </div> 
  </div>         
         {% endfor %}
  </div>
</div>
  {% endblock %}
